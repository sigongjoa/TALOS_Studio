# 확장된 PoC 파이프라인 기술적 타당성 평가

## 1. 다중 시점 이미지 생성 (2-Track 비교 접근)

### A-Track: 뷰 합성 전문 모델 (View-Synthesis)

- **핵심 목표**: `Zero-1-to-3`와 같은 뷰 합성 전문 모델을 사용하여 단일 이미지로부터 여러 시점의 이미지를 생성.
- **기술 스택**: Zero-1-to-3 (Base Model), 4-bit 양자화, LoRA (스타일 보정).
- **장점**: 특정 각도를 비교적 정확하게 제어 가능.
- **리스크**: 만화 스타일에 대한 학습 데이터 부족으로 인한 품질 저하 가능성.

### B-Track: LLM/프롬프트 기반 생성 모델 (Prompt-based)

- **핵심 목표**: `Stable Diffusion`과 `ControlNet`을 조합하고, LLM으로 생성한 상세 프롬프트를 사용하여 여러 시점의 이미지를 생성.
- **기술 스택**: Stable Diffusion v1.5, ControlNet (Depth, Normal, OpenPose 등), LLM (프롬프트 생성용).
- **장점**: 프롬프트를 통해 더 창의적이고 다채로운 스타일의 이미지 생성 가능.
- **리스크**: 여러 이미지 간의 기하학적 일관성을 유지하기 어려움.

## 2. 3D 모델 재구성 (3D Reconstruction)

- **핵심 목표**: A트랙과 B트랙에서 각각 생성된 다중 시점 이미지 세트를 입력으로 사용하여 3D 모델을 재구성.
- **기술 스택**:
    - **3D 표현**: `3D Gaussian Splatting`을 사용하여 3D 씬을 학습. (`Luma AI`의 `PyGaussian` 등 활용)
    - **Mesh 추출**: 학습된 3DGS에서 직접 Mesh를 추출하여 `.glb` 파일 생성.
- **리스크**: 입력 이미지 세트의 일관성이 낮을 경우(특히 B-Track), 3D 모델의 품질이 크게 저하되거나 형태가 뭉개질 수 있음.

## 3. 3D 모델 렌더링 및 배포 (Rendering & Deployment)

- **핵심 목표**: 재구성된 3D 모델을 배포하고, 해당 모델로부터 새로운 각도의 2D 이미지를 렌더링하여 함께 배포.
- **기술 스택**:
    - **3D 모델 뷰어**: 웹에서 3D 모델을 인터랙티브하게 보여주기 위해 `<model-viewer>` 라이브러리 사용.
    - **2D 렌더링**: `Blender`를 스크립트 모드로 실행하여 특정 각도에서 3D 모델을 렌더링한 이미지를 생성.
- **고려사항**: 3D 모델 파일은 용량이 클 수 있으므로, 배포 시 로딩 속도를 고려한 최적화(Draco 압축 등)가 필요할 수 있음.

## 4. 종합 기술 평가 (확장판)

| 단계 | 트랙 | 기술 가능성 | 주요 기술 스택 | 난이도 | 리스크 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| ①-A | 뷰 합성 | ✅ 높음 | Zero-1-to-3, Quantization | ★★★ | 스타일 품질 |
| ①-B | 프롬프트 | ✅ 높음 | Stable Diffusion, ControlNet, LLM | ★★★☆ | 기하 일관성 |
| ② | 3D 재구성 | ⚠️ 중간 | NeRF/3DGS, Marching Cubes | ★★★★ | 입력 품질 의존 |
| ③ | 렌더링/배포 | ✅ 높음 | Blender/pyrender, model-viewer | ★★★ | 3D 파일 최적화 |
| ④ | 전체 자동화 | ⚠️ 낮음 | Python, Docker, GitHub Actions | ★★★★★ | 파이프라인 복잡도 |

## 5. 코드로 관리되는 스펙 (Specification as Code)

문서 기반의 추상적인 설계에서 벗어나, 코드 자체로 스펙을 정의하고 검증하는 접근 방식을 도입합니다.

### 5.1. 인터페이스 명세 (Interface Specification)

파이프라인의 각 단계(Step)가 주고받는 데이터의 구조를 코드로 명세화합니다.

- **JSON 스키마 (`.json`)**: 각 단계의 입/출력 데이터 구조를 정의하는 `step1_output_schema.json`과 같은 파일을 사용합니다. 예를 들어, "A-Track이 생성하는 다중 뷰 이미지는 `images` (배열)와 `camera_poses` (배열) 키를 필수로 포함하며, `camera_poses`는 `[R|t]` 4x4 매트릭스 형식이어야 한다"고 명시합니다.
- **데이터 모델 클래스 (`.py`)**: Pydantic이나 `dataclasses`를 사용하여 위 JSON 스키마를 파이썬 코드로 직접 정의합니다. 이를 통해 개발자는 데이터 모델을 `import`하여 즉시 데이터 유효성을 검증하고 안정적인 코드를 작성할 수 있습니다.

### 5.2. 실행 및 구성 명세 (Execution & Configuration)

- **오케스트레이션 스크립트 (`run_pipeline.py`)**: 파이프라인의 모든 단계를 순차적(또는 병렬)으로 호출하고 조율(Orchestration)하는 메인 스크립트입니다. 이는 CI/CD 계획에 기술된 "Python 스크립트 실행"의 구체적인 구현체입니다.
- **설정 파일 (`config.yml` 또는 `.env`)**: B-Track의 LLM API 키, 모델 가중치 파일의 경로, 3D 재구성 시의 학습 Epoch 횟수, 렌더링할 카메라 각도 등 모든 외부 변수를 중앙에서 관리합니다.

## 6. 종합 기술 평가 (수정판)

| 단계 | 트랙 | 기술 가능성 | 주요 기술 스택 | 난이도 | 리스크 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| ①-A | 뷰 합성 | ✅ 높음 | Zero-1-to-3, Quantization | ★★★ | 스타일 품질 |
| ①-B | 프롬프트 | ✅ 높음 | Stable Diffusion, ControlNet, LLM | ★★★☆ | 기하 일관성 |
| ② | 3D 재구성 | ⚠️ 중간 | NeRF/3DGS, Marching Cubes | ★★★★ | 입력 품질 의존 |
| ③ | 렌더링/배포 | ✅ 높음 | Blender/pyrender, model-viewer | ★★★ | 3D 파일 최적화 |
| ④ | 스펙 관리 | ✅ 높음 | JSON Schema, Pydantic, Pytest | ★★★★ | 초기 설계 복잡도 |
| ⑤ | 전체 자동화 | ⚠️ 낮음 | Python, GitHub Actions | ★★★★★ | 파이프라인 복잡도 |

## 7. 요약 결론

- **PoC 실현 가능성**: 확장된 계획은 각 단계별로 활용 가능한 기술 스택이 존재하여 **PoC 수준에서는 충분히 실현 가능**합니다.
- **핵심 과제**: 가장 큰 기술적 허들은 **생성된 다중 시점 이미지들의 '일관성'을 확보**하고, 이를 **코드로 정의된 스펙에 따라 검증**하여 고품질 3D 모델을 재구성하는 단계가 될 것입니다. A트랙과 B-Track의 결과물을 비교하여 어떤 접근 방식이 더 나은 3D 결과로 이어지는지 확인하는 것이 이번 PoC의 핵심 목표입니다.